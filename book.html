<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="core-style.css" />
    <style>
      .loader {
        border: 16px solid #f3f3f3;
        border-top: 16px solid #fb923c;
        border-radius: 50%;
        width: 120px;
        height: 120px;
        animation: spin 2s linear infinite;
        margin: 20px auto;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      #loader-container {
        display: none;
        text-align: center;
      }
    </style>
    <link href="assets/output.css" rel="stylesheet" />
  </head>
  <body>
    <div class="w-full bg-orange-400 py-2">
      <div
        class="flex justify-between items-center w-full xl:w-[1024px] mx-0 xl:mx-auto px-2 md:px-4 xl:px-0"
      >
        <p class="text-2xl xl:text-3xl font-extrabold">eBooks</p>
        <div class="hidden md:block">
          <input
            type="text"
            class="w-[300px] px-2 py-2 focus:outline-none rounded"
            placeholder="Search books...."
          />
          <button
            class="font-semibold bg-white px-3 py-2 text-gray-900 hover:bg-orange-600 hover:text-white hover:font-semibold transform transition duration-300 ease-in-out rounded"
          >
            Search
          </button>
        </div>
        <div class="hidden lg:flex gap-5">
          <button
            class="text-white font-semibold hover:text-gray-700 transition"
          >
            About Us
          </button>
          <button
            class="text-white font-semibold hover:text-gray-700 transition"
          >
            Wishlist
          </button>
          <div class="relative">
            <button id="dropdownButton" class="flex items-center gap-2 group">
              <p
                class="text-white font-semibold hover:text-gray-700 transition"
              >
                Categories
              </p>
              <div class="pt-1">
                <svg width="12" height="12" viewBox="0 0 12 8" fill="none">
                  <path
                    d="M5.99953 7.03819L0.345703 1.38439L1.39953 0.330566L5.99953 4.93057L10.5995 0.330566L11.6534 1.38439L5.99953 7.03819Z"
                    class="fill-white group-hover:fill-slate-700"
                  />
                </svg>
              </div>
            </button>
            <div
              id="dropdownMenu"
              class="hidden absolute right-0 bg-white text-black mt-2 rounded shadow-lg w-40"
            >
              <ul>
                <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                  Children
                </li>
                <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                  Fiction
                </li>
                <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                  Drama
                </li>
                <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                  History
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="relative inline-block lg:hidden text-left">
          <input type="checkbox" id="dropdownToggle" class="hidden peer" />
          <label for="dropdownToggle" class="cursor-pointer">
            <svg width="24" height="24" fill="none">
              <path
                d="M19.5 0.923828H4.5C2.01563 0.923828 0 2.93945 0 5.42383V17.6546C0 20.139 2.01563 22.1546 4.5 22.1546H19.5C21.9844 22.1546 24 20.139 24 17.6546V5.42383C24 2.93945 21.9844 0.923828 19.5 0.923828ZM20.3077 17.5392C20.3077 18.0476 19.893 18.4623 19.3846 18.4623H4.61538C4.10697 18.4623 3.69231 18.0476 3.69231 17.5392V16.6161C3.69231 16.1077 4.10697 15.6931 4.61538 15.6931H19.3846C19.893 15.6931 20.3077 16.1077 20.3077 16.6161V17.5392ZM20.3077 12.0008C20.3077 12.5092 19.893 12.9238 19.3846 12.9238H4.61538C4.10697 12.9238 3.69231 12.5092 3.69231 12.0008V11.0777C3.69231 10.5693 4.10697 10.1546 4.61538 10.1546H19.3846C19.893 10.1546 20.3077 10.5693 20.3077 11.0777V12.0008ZM20.3077 6.46229C20.3077 6.9707 19.893 7.38537 19.3846 7.38537H4.61538C4.10697 7.38537 3.69231 6.9707 3.69231 6.46229V5.53921C3.69231 5.0308 4.10697 4.61614 4.61538 4.61614H19.3846C19.893 4.61614 20.3077 5.0308 20.3077 5.53921V6.46229Z"
                fill="black"
              />
            </svg>
          </label>
          <div
            class="origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white peer-checked:block hidden"
          >
            <div class="py-1" role="menu">
              <a
                href="#"
                class="block px-4 py-2 text-gray-900 hover:text-gray-600"
                >About Us</a
              >
              <a
                href="#"
                class="block px-4 py-2 text-gray-900 hover:text-gray-600"
                >Contact</a
              >
              <div class="relative px-4 py-2">
                <button
                  id="dropdownButton2"
                  class="flex items-center gap-2 group"
                >
                  <p class="text-gray-900 hover:text-gray-600 font-semibold">
                    Categories
                  </p>
                  <div class="pt-1">
                    <svg width="12" height="12">
                      <path
                        d="M5.99953 7.03819L0.345703 1.38439L1.39953 0.330566L5.99953 4.93057L10.5995 0.330566L11.6534 1.38439L5.99953 7.03819Z"
                        class="fill-gray-900 group-hover:fill-gray-600"
                      />
                    </svg>
                  </div>
                </button>
                <div
                  id="dropdownMenu2"
                  class="hidden absolute bg-white text-black mt-2 rounded shadow-lg w-48"
                >
                  <ul>
                    <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                      Children
                    </li>
                    <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                      Fiction
                    </li>
                    <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                      Drama
                    </li>
                    <li class="px-4 py-2 hover:bg-gray-200 cursor-pointer">
                      History
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      id="book"
      class="w-full xl:w-[1024px] mx-0 xl:mx-auto px-2 md:px-4 xl:px-0"
    >
      <div class="book-details-layout">
        <img
          src="/assets/images/Image Not Found.jpg"
          alt=""
          class="book-image"
        />
        <div class="book-info-area">
          <div>
            <p class="title">Title: AAAAAAAAAAAAAAAA</p>
            <p class="author">Author: BBBBBBBBBBBBB</p>
            <p class="id">Id: 112222</p>
          </div>
          <div>
            <p>download</p>
            <p>online</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Loader container -->
    <div id="loader-container">
      <!-- Circular loader -->
      <div class="loader"></div>
    </div>

    <!-- Axios via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      console.log(urlParams.get("ids"));
      detail(urlParams.get("ids"));
      function detail(id) {
        showLoader();
        console.log("aaaa", id);
        // document.getElementById("body").style.display = "none";
        // document.getElementById("search-result-area").style.display = "none";
        // document.getElementById("productDetail").style.visibility = "visible";

        axios
          .get(`https://gutendex.com/books?ids=${id}`)
          .then(function (response) {
            console.log(response);
            // handle success
            const bookInfo = response.data.data;
            console.log("single book:", book);
            const bookDiv = document.getElementById("book");
            const book = document.createElement("div");
            book.innerHTML = `
                                    <div class=" row border border-2 align-items-center justify-content-lg-around">
                                        <div class="col-12 col-lg-2" style="width: 300px; height: 250px;">
                                            <img class="w-100 h-100" src="${product.imageUrl}" alt="" srcset="">
                                        </div>
                                        <div class="col-12 col-lg-9 py-3">
                                            <h2>Product Name: ${product.name}</h2>
                                            <h5>Product Price: ${product.price} tk</h5>
                                            <p><span class="fw-bolder fs-5">Description: </span> ${product.description}</p>
                                        </div>
                                    </div>
                                            `;

            bookDiv.appendChild(book);

            hideLoader();
          })
          .catch(function (error) {
            console.error("Error fetching data:", error);
            hideLoader();
          });
        // .finally(function () {
        //   // always executed
        // });
      }

      function showLoader() {
        document.getElementById("loader-container").style.display = "block";
      }

      function hideLoader() {
        document.getElementById("loader-container").style.display = "none";
      }
    </script>
  </body>
</html>
